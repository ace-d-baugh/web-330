<!--
============================================
; Title: Assignment 2.2 - Palindrome App - index.html
; Author: Professor Krasso & Ace Baugh
; Date: 08/16/2022
; Modified By: Ace Baugh
; Description: WEB 330 Palindrome App takes in input
;   from the user and checks if the input is a palindrome
============================================
-->

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>WEB 330 â€“ Enterprise JavaScript II</title>

		<!-- Link to external CSS page-->
		<link rel="stylesheet" href="../site.css" />
		<link rel="stylesheet" href="../theme.css" />

		<!-- Link to google fonts-->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;700&display=swap" />

		<!-- Link to Font Awesome CDN -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" />

		<!-- link ot theme script -->
		<script src="theme.js"></script>
	</head>
	<body class="light-theme">
		<i class="fas fa-toggle-off pull-right" onclick="toggleMode(this)" id="icon-mode" style="font-size: 28px">
			<span id="icon-text">Light Mode</span>
		</i>
		<br> <!-- give a break between toggle and content -->
		<main id="container">
			<!-- Page Header -->
			<h1 class="app-header">Welcome to The Palindrome App</h1>

			<!--Input Card -->
			<div class="card-container">
				<div class="card">
					<div class="card-title">My Favorites</div>
					<div class="card-content">
						<form class="form">
							<div class="form-field">
								<label for="favoriteList">Choose a listing</label>
								<select type="text" name="favoriteList" id="favoriteList" class="drop-down-menu" required>
									<option value="select">--Select--</option>
									<option value="books">Top 3 Favorite Books</option>
									<option value="authors">Top 3 Favorite Authors</option>
								</select>
							</div>
							<div class="form-field">
								<button id="btnDisplayListing" class="btn btn-primary full-width" type="button">Display Listing</button>
							</div>
						</form>
					</div>
				</div>

				<!-- Return to home page -->
				<div class="home-link">
					<p>
						<a href="../index.html" class="return-home">Return</a>
					</p>
				</div>
			</div>

			<!-- Books Table Card set to display none -->
			<div class="card-container" id="booksResults" style="display: none">
				<div class="card">
					<div class="card-title">Top 3 Favorite Books</div>
					<div class="card-content">
						<table>
							<tr>
								<th>ISBN</th>
								<th>Title</th>
								<th>Pages</th>
							</tr>
							<tr id="book01">
								<td id="txtEndersGameISBN"></td>
								<td id="txtEndersGameTitle"></td>
								<td id="txtEndersGamePages"></td>
							</tr>
							<tr id="book02">
								<td id="txtBookOfMormonISBN"></td>
								<td id="txtBookOfMormonTitle"></td>
								<td id="txtBookOfMormonPages"></td>
							</tr>
							<tr id="book03">
								<td id="txtWinFriendsISBN"></td>
								<td id="txtWinFriendsTitle"></td>
								<td id="txtWinFriendsPages"></td>
							</tr>
						</table>
					</div>
				</div>
			</div>		</main>

		<script>
			/**
			 * Set the default theme to light if one has not been set in the browsers localStorage
			 */
			setDefaultTheme();

			/**
			 * Function to switch the users selected website theme
			 * @param x (this instance)
			 */
			function toggleMode(x) {
				let colorTheme = document.body.classList; // get the body's CSS class
				let iconMode = x.classList; // get the current classes assigned to the triggered button

				/**
				 * If the current body class is set to the light-theme, update the user's preference to the dark-theme in the browsers
				 * local storage.
				 */
				if (colorTheme.value === 'light-theme') {
					localStorage.clear();
					localStorage.setItem('mode', 'dark-theme');
					localStorage.setItem('iconMode', 'fa-toggle-on');
					localStorage.setItem('iconText', 'Dark Mode');
				} else {
					/**
					 * If the current body class is set to the dark-theme, update the user's preference to the light-theme in the browsers
					 * local storage.
					 */
					localStorage.clear();
					localStorage.setItem('mode', 'light-theme');
					localStorage.setItem('iconMode', 'fa-toggle-off');
					localStorage.setItem('iconText', 'Light Mode');
				}

				/**
				 * Apply the updated selection to the HTML page elements
				 */
				colorTheme.value = localStorage.getItem('mode');
				iconMode.value = `fa ${localStorage.getItem('iconMode')} pull-right`;
				document.getElementById('icon-text').innerHTML = localStorage.getItem('iconText');
			}

			/**
			 * Function to clear the browsers localStorage and set the default theme to light-theme.
			 * This function is for demonstration purposes only and does not need to be included in any of your solutions.
			 */
			function clearLocalStorage() {
				localStorage.clear();
				document.body.classList.value = 'light-theme';
				document.getElementById('icon-text').innerHTML = 'Light Mode';
				document.getElementById('icon-mode').classList.value = 'fa fa-toggle-off pull-right';
			}
		</script>
	</body>
</html>
